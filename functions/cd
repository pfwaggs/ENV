
#TAG:use

_cd () {
    declare x list=$(compgen -d $2)
    [[ $list ]] || list=$(compgen -d ../$2)
    [[ $list ]] || list=$(compgen -d ~/$2)
    for x in $(echo -e "$list"); do
	COMPREPLY+=("$x");
    done
}

complete -o filenames -F '_cd' cd
