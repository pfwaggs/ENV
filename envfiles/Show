
function _Show ()
{
    declare x
    [[ -n $COMP_LINE ]] && x=$2 || x=$1
    compgen -v | grep -i "^$x"
}

function show ()
{
    declare x j
    read j x j < <(declare -p $1)
    var=${j%%=*}
    if [[ $x =~ [aA] ]]; then
        echo array: $var
        for z in $(eval "echo \${!$var[@]}"); do
            eval "echo $z = \${$var[$z]}"
        done
    else
        echo $var = ${!var}
    fi
}

complete -C '_Show' show

