
#TAG:use

_cd () {
    declare x list=$(compgen -d $2)
    [[ $list ]] || list=$(compgen -d ../$2)
    [[ $list ]] || list=$(compgen -d ~/$2)
    IFS=$'\n'
    for x in $list; do
	COMPREPLY+=($x);
    done
    IFS=$' \t\n'
}

complete -o filenames -F '_cd' cd
